<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		div {
			width: 100px;
			height: 100px;
			background-color: pink;
			margin: 10px;
		}
	</style>
	<!-- 我们要取出所有的盒子 利用便利的方法，通过每一个盒子的className来判断 -->
	<script type="text/javascript">
		window.onload = function(){
			// 这个有兼容问题 所以一般不使用
			// var dom = document.getElementsByClassName('demo');
			// alert(dom.length);

			//封装自己的class类名
			function getClass(classname,id){
				//如果浏览器支持的，直接返回
				// if (document.getElementsByClassName) {
				// 	if (id) {
				// 		var father = document.getElementById(id);
				// 		return father.getElementsByClassName(classname);
				// 	}else{
				// 		return document.getElementsByClassName(classname);
				// 	}
				// }
				var arr = [];
				if (id) {
					var father = document.getElementById(id);
					var dom = father.getElementsByTagName("*");
					for (var i = 0; i < dom.length; i++) {
						var txtarr = dom[i].className.split(" "); //分割类名 并且转换成数组
						for (var j = 0; j < txtarr.length; j++) {
							if (txtarr[j] == classname) {
								arr.push(dom[i]);
							} 
						}
					}
					return arr;
				}else{
					//通配符 获取所有的标签 (节点)
					var dom = document.getElementsByTagName("*");
					for (var i = 0; i < dom.length; i++) {
						var txtarr = dom[i].className.split(" "); //分割类名 并且转换成数组
						for (var j = 0; j < txtarr.length; j++) {
							if (txtarr[j] == classname) {
								arr.push(dom[i]);
							} 
						}
					}
					return arr;
				}
			}
			//不传id
			var arr = getClass("text");
			for (var i = 0; i < arr.length; i++) {
				arr[i].style.backgroundColor = "yellow";
			}

			//传id
			// var arr = getClass("text","one");
			// for (var i = 0; i < arr.length; i++) {
			// 	arr[i].style.backgroundColor = "yellow";
			// }
		}
	</script>
</head>
<body>
	<div></div>
	<div class="demo text"></div>
	<div class="text"></div>
	<div id="one">
		<div></div>
		<div class="text"></div>
		<div></div>
		<div></div>
		<div class="text"></div>
		<div></div>
	</div>
</body>
</html>