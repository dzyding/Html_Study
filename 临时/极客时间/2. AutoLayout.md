## 核心逻辑
1. 添加、删除约束都会触发约束变化。Activating 或 Deactivating（激活或禁用），设置 Constant（常量） 或 Priority(优先级) 时也会触发约束变化。  
2. Layout Engine（引擎）在碰到约束变化后会重新计算布局，获取到布局后调用 superview.setNeedLayout(). 
3. 进入 Deferred Layout Pass。其主要作用是做容错处理。判断是否有为确定的或丢失的约束。  
4. 接下来，Layout Engine 会从上到下调用 layoutSubviews()，通过 Cassowary 算法计算各个子视图的位置，算出来后将子视图的 frame 从 Layout Engine 里拷贝出来。  
5. 之后就和手写布局的绘制、渲染过程一样了。